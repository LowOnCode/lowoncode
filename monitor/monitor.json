{
  "title": "monitor",
  "description": "Core monitor service",
  "version": "0.0.1",
  "author": "LowOnCode Team",
  "nodes": [
    {
      "id": "1563306263992",
      "component": "httproute",
      "x": 88,
      "y": 101,
      "connections": [
        {
          "fromPortId": "0",
          "toNodeId": "coresplash_1",
          "toPortId": "0"
        }
      ],
      "options": {
        "method": "GET",
        "url": "/_system"
      },
      "color": "#5D9CEC",
      "ref": "-noref-"
    },
    {
      "id": "coresplash_1",
      "component": "coresplash",
      "x": 377,
      "y": 109,
      "ref": "-noref-",
      "connections": [
        {
          "fromPortId": "0",
          "toNodeId": "httpresponse1",
          "toPortId": "0"
        }
      ]
    },
    {
      "id": "1563306263992",
      "component": "httproute",
      "x": 88,
      "y": 101,
      "connections": [
        {
          "fromPortId": "0",
          "toNodeId": "corelistroutes1",
          "toPortId": "0"
        }
      ],
      "options": {
        "method": "GET",
        "url": "/debug/routes"
      },
      "color": "#5D9CEC",
      "ref": "-noref-"
    },
    {
      "id": "corelistroutes1",
      "component": "corelistroutes",
      "x": 377,
      "y": 109,
      "ref": "-noref-"
    },
    {
      "id": "123",
      "component": "input",
      "name": "input key targetRuntime",
      "x": 64,
      "y": 853,
      "options": {
        "key": "targetRuntime"
      },
      "connections": [
        {
          "fromPortId": "0",
          "toNodeId": "1563315576304",
          "toPortId": "0"
        }
      ],
      "color": "#5D9CEC",
      "ref": "input key targetRuntime"
    },
    {
      "id": "1563306263992",
      "component": "httproute",
      "disabled": true,
      "name": "POST /_system/design",
      "x": 88,
      "y": 301,
      "connections": [
        {
          "fromPortId": "0",
          "toNodeId": "coreapplydesign1",
          "toPortId": "0"
        }
      ],
      "options": {
        "method": "POST",
        "url": "/_system/design",
        "size": 5,
        "cacheexpire": "5 minutes",
        "cachepolicy": 0,
        "timeout": 5,
        "emptyresponse": false
      },
      "color": "#5D9CEC",
      "ref": "POST /_system/design"
    },
    {
      "id": "1563306263992",
      "component": "httproute",
      "name": "POST /_system/restart",
      "x": 88,
      "y": 301,
      "connections": [
        {
          "fromPortId": "0",
          "toNodeId": "corerestart1",
          "toPortId": "0"
        }
      ],
      "options": {
        "method": "POST",
        "url": "/_system/restart"
      },
      "color": "#5D9CEC",
      "ref": "POST /_system/restart"
    },
    {
      "id": "corerestart1",
      "component": "corerestart",
      "x": 353,
      "y": 310,
      "options": {
        "key": "targetRuntime"
      },
      "connections": [
        {
          "fromPortId": "0",
          "toNodeId": "httpresponse_restart",
          "toPortId": "0"
        }
      ],
      "color": "#5D9CEC",
      "ref": "-noref-"
    },
    {
      "id": "httpresponse_restart",
      "component": "httpresponse",
      "x": 573,
      "y": 211,
      "connections": [],
      "options": {},
      "color": "#5D9CEC",
      "notes": "",
      "ref": "-noref-"
    },
    {
      "id": "coreapplydesign1",
      "component": "coreapplydesign",
      "name": "Apply design",
      "x": 356,
      "y": 253,
      "options": {
        "key": "targetRuntime"
      },
      "color": "#5D9CEC",
      "connections": [
        {
          "fromPortId": "0",
          "toNodeId": "httpresponse_restart",
          "toPortId": "0"
        }
      ],
      "ref": "Apply design"
    },
    {
      "id": "1563306263992",
      "component": "httproute",
      "name": "GET /_system/design",
      "x": 62,
      "y": 390,
      "connections": [
        {
          "fromPortId": "0",
          "toNodeId": "1563308847909",
          "toPortId": "0"
        }
      ],
      "options": {
        "method": "GET",
        "url": "/_system/design"
      },
      "color": "#5D9CEC",
      "ref": "GET /_system/design"
    },
    {
      "id": "httpresponse1",
      "component": "httpresponse",
      "name": "HTTP Response",
      "x": 558,
      "y": 379,
      "connections": [],
      "options": {},
      "color": "#5D9CEC",
      "notes": "",
      "ref": "HTTP Response"
    },
    {
      "id": "1563308847909",
      "component": "filereader",
      "name": "",
      "x": 291,
      "y": 374,
      "connections": [
        {
          "fromPortId": "0",
          "toNodeId": "httpresponse1",
          "toPortId": "0"
        }
      ],
      "options": {
        "delimiter": "\\n",
        "append": true,
        "filename": "/tmp/design.json"
      },
      "color": "#656D78",
      "notes": "",
      "ref": "-noref-"
    },
    {
      "id": "1563308903107",
      "component": "httproute",
      "name": "GET /_system/components",
      "x": 58,
      "y": 518,
      "connections": [
        {
          "fromPortId": "0",
          "toNodeId": "1563308920752",
          "toPortId": "0"
        }
      ],
      "options": {
        "timeout": 5,
        "cachepolicy": 0,
        "cacheexpire": "5 minutes",
        "size": 5,
        "url": "/_system/components",
        "method": "GET",
        "name": "",
        "emptyresponse": false,
        "flags": [
          "id:1563308903107",
          "get",
          5000
        ]
      },
      "color": "#5D9CEC",
      "ref": "GET /_system/components"
    },
    {
      "id": "1563308917534",
      "component": "httpresponse",
      "name": "HTTP Response",
      "x": 467,
      "y": 518,
      "connections": [],
      "options": {},
      "color": "#5D9CEC",
      "notes": "",
      "ref": "HTTP Response"
    },
    {
      "id": "1563308920752",
      "component": "filereader",
      "name": "File Reader",
      "x": 300,
      "y": 519,
      "connections": [
        {
          "fromPortId": "0",
          "toNodeId": "1563308917534",
          "toPortId": "0"
        }
      ],
      "options": {
        "delimiter": "\\n",
        "append": true,
        "filename": "/tmp/components.json"
      },
      "color": "#656D78",
      "ref": "File Reader"
    },
    {
      "id": "1563315576304",
      "component": "wsservercore",
      "name": "WebSocket Server",
      "x": 281,
      "y": 852,
      "options": {
        "path": "/_system/ws"
      },
      "color": "#97c5ff",
      "notes": "",
      "ref": "WebSocket Server"
    },
    {
      "color": "#5D9CEC",
      "name": "httproute",
      "_id": "5d98ed5f1b677d001783c930",
      "title": "HTTP Route",
      "version": "1.0.0",
      "icon": "globe",
      "options": {
        "method": "GET",
        "url": "",
        "size": 5,
        "cacheexpire": "5 minutes",
        "cachepolicy": 0,
        "timeout": 5
      },
      "readme": "\n  If one of the outputs is disabled then automatic responce with code \"503 service unavailable\" is sent.\n\n  When a request comes in bellow object is available at `flowdata.data`:\n  \n  ```javascript\n  {\n\t  params: { id: '1' },     // params for dynamic routes, e.g. /test/{id}\n\t  query: { msg: 'Hello' }, // parsed query string, e.g. /test/1?msg=Hello\n\t  body: { test: 'OK' },    // object if json requests otherwise string\n\t  headers: {},             // headers data\n\t  session: {},             // session data\n\t  user: {},                // user data\n\t  files: [],               // uploaded files\n\t  url: '/users/',          // a relative URL address\n\t  referrer: '/',           // referrer\n\t  mobile: false,           // determines mobile device\n\t  robot: false,            // determines search robots/crawlsers\n\t  language: 'en'           // determines language\n  }\n  ```\n  ",
      "outputs": [
        {
          "color": "#6BAD57",
          "description": "raw data"
        },
        {
          "color": "#F6BB42",
          "description": "cached data"
        }
      ],
      "inputs": [],
      "created_at": "2019-10-05T19:22:07.758Z",
      "updated_at": "2019-10-05T19:50:15.061Z",
      "id": "73300dfd-038b-4116-b21b-3260fd7ecd9c",
      "connections": [
        {
          "id": "a80ee920-fb2e-4cb6-9af3-d400c49b6883",
          "type": "connection",
          "fromNodeId": "73300dfd-038b-4116-b21b-3260fd7ecd9c",
          "fromPortId": 0,
          "toNodeId": "httpresponse_restart",
          "toPortId": 0
        }
      ],
      "x": 117,
      "y": 209
    }
  ]
}